(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app~856af442"],{"051d":function(t,e,a){"use strict";a("19c3")},"189e":function(t,e,a){"use strict";a("c667")},"19c3":function(t,e,a){},"1a3b":function(t,e,a){"use strict";a("bbc7")},"36f9":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pl-5 pr-5 pt-2"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-md-12"},[a("ul",{staticClass:"breadCrumbs"},[t._m(0),a("li",[a("router-link",{attrs:{to:"/report/list"}},[t._v("Reports")])],1),t._m(1),a("div",{staticClass:"clear"})])])]),t.errorMsg?t._e():a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-1"}),a("div",{staticClass:"col-md-3"},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-text-field",t._g({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"Date From",label:"From","prepend-icon":"event",readonly:"","error-messages":t.errors.first("Date From")},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}},n))]}}],null,!1,2893869314),model:{value:t.dateMenuFrom,callback:function(e){t.dateMenuFrom=e},expression:"dateMenuFrom"}},[a("v-date-picker",{attrs:{max:t.endDate},on:{input:function(e){t.dateMenuFrom=!1}},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}})],1)],1),a("div",{staticClass:"col-md-3"},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-text-field",t._g({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"Date Until",label:"Until","prepend-icon":"event",readonly:"","error-messages":t.errors.first("Date Until")},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}},n))]}}],null,!1,4055421905),model:{value:t.dateMenuTo,callback:function(e){t.dateMenuTo=e},expression:"dateMenuTo"}},[a("v-date-picker",{attrs:{min:t.startDate},on:{input:function(e){t.dateMenuTo=!1}},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1)],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-1"}),a("div",{staticClass:"col-md-3"},[a("v-text-field",{attrs:{name:"ParentMsisdn",label:"Parent Msisdn"},model:{value:t.parentMsisdn,callback:function(e){t.parentMsisdn=e},expression:"parentMsisdn"}})],1),a("div",{staticClass:"col-md-3"},[a("v-select",{attrs:{clearable:!0,items:t.statuses,label:"Status"},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}})],1),a("div",{staticClass:"col-md-2"},[a("v-btn",{attrs:{round:"",color:"#3498db",dark:""},on:{click:t.navigateToSearch}},[t._v("Search")])],1)]),a("div",{staticClass:"row pb-2"},[a("div",{staticClass:"col-md-2"},[a("v-btn",{attrs:{round:"",color:"#3498db",dark:""}},[a("download-excel",{attrs:{fetch:t.fetchData,fields:t.json_fields,type:"csv",name:"Daily Subscription.xls"}},[t._v("Download Excel")])],1)],1)]),a("div",[a("v-data-table",{attrs:{headers:t.headers,items:t.tableData,pagination:t.pagination,"total-items":t.pagination.totalItems,"rows-per-page-items":[10]},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.parentDetails?e.item.parentDetails.msisdn:"-"))]),a("td",[t._v(t._s(e.item.created?e.item.created:"-"))]),a("td",[t._v(t._s(e.item.newPricePlanDetails?e.item.newPricePlanDetails.name:"-"))]),a("td",[t._v(t._s(e.item.newPricePlanDetails?e.item.newPricePlanDetails.lineRent:"-"))]),a("td",[t._v(t._s(e.item.channel?e.item.channel:"-"))]),a("td",[t._v(t._s(e.item.transactionStatus?e.item.transactionStatus:"-"))])]}},{key:"no-results",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[t._v('Your search for "'+t._s(t.search)+'" found no results.')])]},proxy:!0}],null,!1,2580740744)})],1)]),t.errorMsg?a("div",[a("div",{staticClass:"card",staticStyle:{width:"100%",height:"100%"}},[a("div",{staticClass:"card-block p-5"},[a("h3",[t._v(t._s(t.errorMsg))])])])]):t._e()])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("a",{staticClass:"animation",attrs:{href:"",title:"Home"}},[t._v("Home")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"activePage"},[a("p",{staticClass:"animation",attrs:{href:"",title:"Daily Subscription"}},[t._v("Daily Subscription")])])}],s=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),i=(a("96cf"),a("3b8d")),o=(a("7f7f"),a("c1df")),c=a.n(o),l=a("025e");function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){Object(s["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var p={data:function(){return{statuses:[{text:"PENDING",value:"PENDING"},{text:"SUCCESS",value:"SUCCESS"},{text:"FAILED",value:"FAILED"},{text:"CANCELLED",value:"CANCELLED"}],search:"",json_fields:{Number:{field:"parentDetails",callback:function(t){return t?t.msisdn:"-"}},"Date of Subscription":{field:"created",callback:function(t){return t||"-"}},"Price Plan":{field:"newPricePlanDetails",callback:function(t){return t?t.name:"-"}},"Line Rent Amount":{field:"newPricePlanDetails",callback:function(t){return t?t.lineRent:"-"}},Channel:{field:"channel",callback:function(t){return t||"-"}},Status:{field:"transactionStatus",callback:function(t){return t||"-"}}},items:[],pagination:{page:1,rowsPerPage:10,totalPages:void 0,totalItems:void 0},errorMsg:"",headers:[{text:"Number",value:"Number",sortable:!1},{text:"DateofSubscription",value:"DateofSubscription",sortable:!1},{text:"PricePlan",value:"PricePlan",sortable:!1},{text:"Line Rent Amount",value:"LineRentAmount",sortable:!1},{text:"Channel",value:"Channel",sortable:!1},{text:"Status",value:"Status",sortable:!1}],consentReport:[],exportData:[],dateMenuFrom:!1,dateMenuTo:!1,parentMsisdn:"",status:"",startDate:c()().format("YYYY-MM-DD"),endDate:c()().format("YYYY-MM-DD")}},watch:{pagination:function(t,e){this.navigateToSearch()},"$route.query":function(){this.getReport()}},methods:{fetchData:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getReport(!0);case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),navigateToSearch:function(){var t=this;this.$router.push({name:"report.subscription",query:u(u({page:this.pagination.page,rowsPerPage:this.pagination.rowsPerPage,startDate:this.startDate,endDate:this.endDate},this.parentMsisdn&&{parentMsisdn:this.parentMsisdn}),this.status&&{status:this.status})}).catch((function(e){t.$router.push("/"),t.$router.push({name:"report.subscription",query:u(u({page:t.pagination.page,rowsPerPage:t.pagination.rowsPerPage,startDate:t.startDate,endDate:t.endDate},t.parentMsisdn&&{parentMsisdn:t.parentMsisdn}),t.status&&{status:t.status})})}))},getReport:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a,n,r=this,s=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=s.length>0&&void 0!==s[0]&&s[0],this.setModelFromQueryParams(),!(this.pagination.page&&this.pagination.rowsPerPage&&this.startDate&&this.endDate)){t.next=8;break}return a={startDate:this.startDate,endDate:this.endDate,parentMsisdn:this.parentMsisdn,status:this.status,pageNumber:this.pagination.page,pageSize:e?999999:this.pagination.rowsPerPage},n=l["a"].getQueryString(a),t.next=7,this.$http.get(window.ReportBaseURL+"/reportdaily/subscriptionReportDaily"+n).then((function(t){"00"==t.errorCode?e?r.exportData=t.data.content:(r.consentReport=t.data.content,r.pagination.totalPages=t.data.totalPages,r.pagination.totalItems=t.data.totalElements):"53"==t.errorCode&&(r.errorMsg=t.errorMsg)}));case 7:return t.abrupt("return",this.exportData);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),setModelFromQueryParams:function(){var t=this.$route.query;t&&(this.pagination.page=t.page?t.page:this.pagination.page,this.pagination.rowsPerPage=t.rowsPerPage?t.rowsPerPage:this.pagination.rowsPerPage,this.startDate=t.startDate?t.startDate:c()().subtract(1,"months").format("YYYY-MM-DD"),this.endDate=t.endDate?t.endDate:c()().format("YYYY-MM-DD"),this.parentMsisdn=t.parentMsisdn,this.status=t.status)}},computed:{tableData:function(){return this.consentReport.map((function(t){return t.consentSentTime=c()(t.consentSentTime,"YYYY-MM-DD HH:mm:ss").format("DD/MM/YYYY HH:mm:ss"),t.consentExpiryTime=c()(t.consentExpiryTime,"YYYY-MM-DD HH:mm:ss").format("DD/MM/YYYY HH:mm:ss"),t}))}},mounted:function(){}},m=p,v=a("2877"),h=a("6544"),f=a.n(h),D=a("0798"),g=a("8336"),b=a("8fea"),P=a("2e4b"),w=a("e449"),M=a("b56d"),_=a("2677"),y=Object(v["a"])(m,n,r,!1,null,null,null);e["default"]=y.exports;f()(y,{VAlert:D["a"],VBtn:g["a"],VDataTable:b["a"],VDatePicker:P["a"],VMenu:w["a"],VSelect:M["a"],VTextField:_["a"]})},4721:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-md-6"},[a("div",{staticClass:"card"},[a("div",{staticClass:"card-block"},[t._m(0),a("div",{staticClass:"table-responsive-xl list-table"},[a("table",{staticClass:"table table-hover table-striped"},[t._m(1),a("tbody",[a("tr",{staticClass:"table-row",on:{click:function(e){return t.goToConsentReport()}}},[a("th",{attrs:{scope:"row"}},[t._v("1")]),a("td",[t._v("Consent")])]),a("tr",{staticClass:"table-row",on:{click:function(e){return t.goToResourceReport()}}},[a("th",{attrs:{scope:"row"}},[t._v("2")]),a("td",[t._v("Resource Sharing")])]),a("tr",{staticClass:"table-row",on:{click:function(e){return t.goToSubscriptionReport()}}},[a("th",{attrs:{scope:"row"}},[t._v("3")]),a("td",[t._v("Daily Subscription")])]),a("tr",{staticClass:"table-row",on:{click:function(e){return t.goToHierarchyReport()}}},[a("th",{attrs:{scope:"row"}},[t._v("4")]),a("td",[t._v("Hierarchy & Subscription")])]),a("tr",{staticClass:"table-row",on:{click:function(e){return t.goToRenewalReport()}}},[a("th",{attrs:{scope:"row"}},[t._v("5")]),a("td",[t._v("Renewal")])]),a("tr",{staticClass:"table-row",on:{click:function(e){return t.goToTransactionReport()}}},[a("th",{attrs:{scope:"row"}},[t._v("6")]),a("td",[t._v("Transaction")])]),a("tr",{staticClass:"table-row",on:{click:function(e){return t.goToUssdReport()}}},[a("th",{attrs:{scope:"row"}},[t._v("7")]),a("td",[t._v("USSD")])]),a("tr",{staticClass:"table-row",on:{click:function(e){return t.goToLoginReport()}}},[a("th",{attrs:{scope:"row"}},[t._v("8")]),a("td",[t._v("Agent Login")])]),a("tr",{staticClass:"table-row",on:{click:function(e){return t.goToProfileAccessReport()}}},[a("th",{attrs:{scope:"row"}},[t._v("9")]),a("td",[t._v("Profile Access")])]),a("tr",{staticClass:"table-row",on:{click:function(e){return t.goToProfileChangesReport()}}},[a("th",{attrs:{scope:"row"}},[t._v("10")]),a("td",[t._v("Profile Changes")])]),a("tr",{staticClass:"table-row",on:{click:function(e){return t.goToAgentActivityReport()}}},[a("th",{attrs:{scope:"row"}},[t._v("11")]),a("td",[t._v("Agent Activity")])]),a("tr",{staticClass:"table-row",on:{click:function(e){return t.goToParentReport()}}},[a("th",{attrs:{scope:"row"}},[t._v("12")]),a("td",[t._v("Parent Report")])]),a("tr",{staticClass:"table-row",on:{click:function(e){return t.goToParentRenewalSummary()}}},[a("th",{attrs:{scope:"row"}},[t._v("13")]),a("td",[t._v("Parent Summary Report")])])])])])]),a("div",{staticClass:"card-block"},[t._m(2),a("div",{staticClass:"table-responsive-xl list-table"},[a("table",{staticClass:"table table-hover table-striped"},[t._m(3),a("tbody",[a("tr",{staticClass:"table-row",on:{click:function(e){return t.goToPrepaidSubscriptionReport()}}},[a("th",{attrs:{scope:"row"}},[t._v("1")]),a("td",[t._v("Daily Subscription Report")])]),a("tr",{staticClass:"table-row",on:{click:function(e){return t.goToPrepaidHierarchyReport()}}},[a("th",{attrs:{scope:"row"}},[t._v("2")]),a("td",[t._v("Hierarchy & Sub Report")])]),a("tr",{staticClass:"table-row",on:{click:function(e){return t.goToPrepaidResourceReport()}}},[a("th",{attrs:{scope:"row"}},[t._v("3")]),a("td",[t._v("Resource Sharing")])]),a("tr",{staticClass:"table-row",on:{click:function(e){return t.goToPrepaidGroupsEditReport()}}},[a("th",{attrs:{scope:"row"}},[t._v("4")]),a("td",[t._v("Groups Edit Report")])]),a("tr",{staticClass:"table-row",on:{click:function(e){return t.goToPrepaidUssdReport()}}},[a("th",{attrs:{scope:"row"}},[t._v("5")]),a("td",[t._v("USSD Report")])])])])])])])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"list-title"},[a("h5",[t._v("Postpaid Reports")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"table-primary"},[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("#")]),a("th",{attrs:{scope:"col"}},[t._v("Report Name")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"list-title"},[a("h5",[t._v("Prepaid Reports")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"table-primary"},[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("#")]),a("th",{attrs:{scope:"col"}},[t._v("Report Name")])])])}],s={methods:{goToConsentReport:function(){this.$router.push({name:"report.consent"})},goToResourceReport:function(){this.$router.push({name:"report.resource"})},goToSubscriptionReport:function(){this.$router.push({name:"report.subscription"})},goToHierarchyReport:function(){this.$router.push({name:"report.hierarchy"})},goToRenewalReport:function(){this.$router.push({name:"report.renewal"})},goToTransactionReport:function(){this.$router.push({name:"report.transaction"})},goToUssdReport:function(){this.$router.push({name:"report.ussd"})},goToLoginReport:function(){this.$router.push({name:"report.login"})},goToProfileAccessReport:function(){this.$router.push({name:"report.profileaccess"})},goToProfileChangesReport:function(){this.$router.push({name:"report.profilechanges"})},goToAgentActivityReport:function(){this.$router.push({name:"report.agentctivity"})},goToParentReport:function(){this.$router.push({name:"report.parentReport"})},goToParentRenewalSummary:function(){this.$router.push({name:"report.ParentRenewalSummary"})},goToPrepaidSubscriptionReport:function(){this.$router.push({name:"report.prepaidSubscription"})},goToPrepaidHierarchyReport:function(){this.$router.push({name:"report.prepaidHierarchy"})},goToPrepaidResourceReport:function(){this.$router.push({name:"report.prepaidResourceSharing"})},goToPrepaidLoginReport:function(){this.$router.push({name:"report.prepaidLogin"})},goToPrepaidProfileAccessReport:function(){this.$router.push({name:"report.prepaidProfileAccess"})},goToPrepaidMsisdnWiseReport:function(){this.$router.push({name:"report.prepaidMsisdn"})},goToPrepaidGroupsEditReport:function(){this.$router.push({name:"report.prepaidGroupsEdit"})},goToPrepaidTransactionReport:function(){this.$router.push({name:"report.prepaidTransaction"})},goToPrepaidUssdReport:function(){this.$router.push({name:"report.prepaidUssd"})}}},i=s,o=(a("d09c"),a("2877")),c=Object(o["a"])(i,n,r,!1,null,null,null);e["default"]=c.exports},"87c4":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pl-5 pr-5 pt-2"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-md-12"},[a("ul",{staticClass:"breadCrumbs"},[t._m(0),a("li",[a("router-link",{attrs:{to:"/report/list"}},[t._v("Reports")])],1),t._m(1),a("div",{staticClass:"clear"})])])]),t.errorMsg?t._e():a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-1"}),a("div",{staticClass:"col-md-3"},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-text-field",t._g({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"Date From",label:"From","prepend-icon":"event",readonly:"","error-messages":t.errors.first("Date From")},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}},n))]}}],null,!1,2893869314),model:{value:t.dateMenuFrom,callback:function(e){t.dateMenuFrom=e},expression:"dateMenuFrom"}},[a("v-date-picker",{attrs:{max:t.endDate},on:{input:function(e){t.dateMenuFrom=!1}},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}})],1)],1),a("div",{staticClass:"col-md-3"},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-text-field",t._g({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"Date Until",label:"Until","prepend-icon":"event",readonly:"","error-messages":t.errors.first("Date Until")},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}},n))]}}],null,!1,4055421905),model:{value:t.dateMenuTo,callback:function(e){t.dateMenuTo=e},expression:"dateMenuTo"}},[a("v-date-picker",{attrs:{min:t.startDate},on:{input:function(e){t.dateMenuTo=!1}},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1)],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-1"}),a("div",{staticClass:"col-md-3"},[a("v-text-field",{attrs:{name:"ParentMsisdn",label:"Parent Msisdn"},model:{value:t.parentMsisdn,callback:function(e){t.parentMsisdn=e},expression:"parentMsisdn"}})],1),a("div",{staticClass:"col-md-3"},[a("v-text-field",{attrs:{name:"ChildMsisdn",label:"Child Msisdn"},model:{value:t.childMsisdn,callback:function(e){t.childMsisdn=e},expression:"childMsisdn"}})],1),a("div",{staticClass:"col-md-3"},[a("v-text-field",{attrs:{name:"TransactionId",label:"Transaction Id"},model:{value:t.transactionId,callback:function(e){t.transactionId=e},expression:"transactionId"}})],1),a("div",{staticClass:"col-md-2"},[a("v-btn",{attrs:{round:"",color:"#3498db",dark:""},on:{click:t.navigateToSearch}},[t._v("Search")])],1)]),a("div",{staticClass:"row pb-2"},[a("div",{staticClass:"col-md-2"},[a("v-btn",{attrs:{round:"",color:"#3498db",dark:""}},[a("download-excel",{attrs:{fetch:t.fetchData,fields:t.json_fields,type:"csv",name:"Resource Sharing.xls"}},[t._v("Download Excel")])],1)],1)]),a("div",{staticClass:"rs-table"},[a("v-data-table",{attrs:{headers:t.headers,items:t.tableData,pagination:t.pagination,"total-items":t.pagination.totalItems,"rows-per-page-items":[10]},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.transactionDetails?e.item.transactionDetails.systemTransactionId:"-"))]),a("td",[t._v(t._s(e.item.transactionDetails.parentDetails?e.item.transactionDetails.parentDetails.msisdn:"-"))]),a("td",[t._v(t._s(e.item.transactionDetails.childDetails?e.item.transactionDetails.childDetails.msisdn:"-"))]),a("td",[t._v(t._s(e.item.eventDetails?e.item.eventDetails.eventDescription:"-"))]),a("td",[t._v(t._s(e.item.productDetails?e.item.productDetails.productName:"-"))]),a("td",[t._v(t._s(e.item.convertedAllocationAmount?e.item.convertedAllocationAmount:"-"))]),a("td",[t._v(t._s(e.item.convertedNewChildBalance?e.item.convertedNewChildBalance:"-"))]),a("td",[t._v(t._s(e.item.convertedNewParentBalance?e.item.convertedNewParentBalance:"-"))]),a("td",[t._v(t._s(e.item.eventStatus?e.item.eventStatus:"-"))]),a("td",[t._v(t._s(e.item.transactionDetails?e.item.transactionDetails.channel:"-"))]),a("td",[t._v(t._s(e.item.created?e.item.created:"-"))])]}},{key:"no-results",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[t._v('Your search for "'+t._s(t.search)+'" found no results.')])]},proxy:!0}],null,!1,1473521443)})],1)]),t.errorMsg?a("div",[a("div",{staticClass:"card",staticStyle:{width:"100%",height:"100%"}},[a("div",{staticClass:"card-block p-5"},[a("h3",[t._v(t._s(t.errorMsg))])])])]):t._e()])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("a",{staticClass:"animation",attrs:{href:"",title:"Home"}},[t._v("Home")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"activePage"},[a("p",{staticClass:"animation",attrs:{href:"",title:"Resource Sharing"}},[t._v("Resource Sharing")])])}],s=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),i=(a("96cf"),a("3b8d")),o=a("c1df"),c=a.n(o),l=a("025e");function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){Object(s["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var p={data:function(){return{search:"",json_fields:{TransactionId:{field:"transactionDetails",callback:function(t){return t?t.systemTransactionId:"-"}},"Parent Number":{field:"transactionDetails",callback:function(t){return t&&t.parentDetails?t.parentDetails.msisdn:"-"}},"Child Number":{field:"transactionDetails",callback:function(t){return t&&t.childDetails?t.childDetails.msisdn:"-"}},"Type of Event":{field:"eventDetails",callback:function(t){return t?t.eventDescription:"-"}},"Resources Type":{field:"productDetails",callback:function(t){return t?t.productName:"-"}},"Quota Allocated":{field:"convertedAllocationAmount",callback:function(t){return t||"-"}},"Updated Child Resources":{field:"convertedNewChildBalance",callback:function(t){return t||"-"}},"Updated Parents Resources":{field:"convertedNewParentBalance",callback:function(t){return t||"-"}},Status:{field:"eventStatus",callback:function(t){return t||"-"}},"Request Channel":{field:"transactionDetails",callback:function(t){return t?t.channel:"-"}},"Date & Time":"created"},items:[],pagination:{page:1,rowsPerPage:10,totalPages:void 0,totalItems:void 0},errorMsg:"",headers:[{text:"Transaction Id",value:"TransactionID",sortable:!1,width:"5%"},{text:"Parent Number",value:"ParentNumber",sortable:!1,width:"5%"},{text:"Child Number",value:"ChildNumber",sortable:!1,width:"5%"},{text:"Type of Event",value:"TypeofEvent",sortable:!1,width:"30%"},{text:"Resource Type",value:"ResourceType",sortable:!1,width:"9%"},{text:"Quota Allocated",value:"QuotaAllocated",sortable:!1,width:"9%"},{text:"Updated Child Resources",value:"UpdatedChildResources",sortable:!1,width:"9%"},{text:"Updated Parent Resources",value:"UpdatedParentResources",sortable:!1,width:"9%"},{text:"Status",value:"Status",sortable:!1,width:"9%"},{text:"Channel",value:"Channel",sortable:!1},{text:"Date & Time",value:"DateAndTime",sortable:!1}],consentReport:[],exportData:[],dateMenuFrom:!1,dateMenuTo:!1,parentMsisdn:"",childMsisdn:"",transactionId:"",startDate:c()().format("YYYY-MM-DD"),endDate:c()().format("YYYY-MM-DD")}},watch:{pagination:function(t,e){this.navigateToSearch()},"$route.query":function(){this.getReport()}},methods:{fetchData:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getReport(!0);case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),navigateToSearch:function(){var t=this;this.$router.push({name:"report.resource",query:u(u(u({page:this.pagination.page,rowsPerPage:this.pagination.rowsPerPage,startDate:this.startDate,endDate:this.endDate},this.parentMsisdn&&{parentMsisdn:this.parentMsisdn}),this.childMsisdn&&{childMsisdn:this.childMsisdn}),this.transactionId&&{transactionId:this.transactionId})}).catch((function(e){t.$router.push("/"),t.$router.push({name:"report.resource",query:u(u(u({page:t.pagination.page,rowsPerPage:t.pagination.rowsPerPage,startDate:t.startDate,endDate:t.endDate},t.parentMsisdn&&{parentMsisdn:t.parentMsisdn}),t.childMsisdn&&{childMsisdn:t.childMsisdn}),t.transactionId&&{transactionId:t.transactionId})})}))},getReport:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a,n,r=this,s=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=s.length>0&&void 0!==s[0]&&s[0],this.setModelFromQueryParams(),!(this.pagination.page&&this.pagination.rowsPerPage&&this.startDate&&this.endDate)){t.next=8;break}return a={startDate:this.startDate,endDate:this.endDate,pageNumber:this.pagination.page,pageSize:e?999999:this.pagination.rowsPerPage,childMsisdn:this.childMsisdn,parentMsisdn:this.parentMsisdn,transactionId:this.transactionId},n=l["a"].getQueryString(a),t.next=7,this.$http.get(window.ReportBaseURL+"/reportdaily/resourceSharingEventReportDaily"+n).then((function(t){"00"==t.errorCode?e?r.exportData=t.data.content:(r.consentReport=t.data.content,r.pagination.totalPages=t.data.totalPages,r.pagination.totalItems=t.data.totalElements):"53"==t.errorCode&&(r.errorMsg=t.errorMsg)}));case 7:return t.abrupt("return",this.exportData);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),setModelFromQueryParams:function(){var t=this.$route.query;t&&(this.pagination.page=t.page?t.page:this.pagination.page,this.pagination.rowsPerPage=t.rowsPerPage?t.rowsPerPage:this.pagination.rowsPerPage,this.startDate=t.startDate?t.startDate:c()().subtract(1,"months").format("YYYY-MM-DD"),this.endDate=t.endDate?t.endDate:c()().format("YYYY-MM-DD"),this.parentMsisdn=t.parentMsisdn,this.childMsisdn=t.childMsisdn,this.transactionId=t.transactionId)}},computed:{tableData:function(){return this.consentReport.map((function(t){return t.consentSentTime=c()(t.consentSentTime,"YYYY-MM-DD HH:mm:ss").format("DD/MM/YYYY HH:mm:ss"),t.consentExpiryTime=c()(t.consentExpiryTime,"YYYY-MM-DD HH:mm:ss").format("DD/MM/YYYY HH:mm:ss"),t}))}},mounted:function(){},beforeDestroy:function(){}},m=p,v=(a("051d"),a("2877")),h=a("6544"),f=a.n(h),D=a("0798"),g=a("8336"),b=a("8fea"),P=a("2e4b"),w=a("e449"),M=a("2677"),_=Object(v["a"])(m,n,r,!1,null,null,null);e["default"]=_.exports;f()(_,{VAlert:D["a"],VBtn:g["a"],VDataTable:b["a"],VDatePicker:P["a"],VMenu:w["a"],VTextField:M["a"]})},"8de2":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pl-5 pr-5 pt-2"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-md-12"},[a("ul",{staticClass:"breadCrumbs"},[t._m(0),a("li",[a("router-link",{attrs:{to:"/report/list"}},[t._v("Reports")])],1),t._m(1),a("div",{staticClass:"clear"})])])]),t.errorMsg?t._e():a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-1"}),a("div",{staticClass:"col-md-3"},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-text-field",t._g({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"Date From",label:"From","prepend-icon":"event",readonly:"","error-messages":t.errors.first("Date From")},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}},n))]}}],null,!1,2893869314),model:{value:t.dateMenuFrom,callback:function(e){t.dateMenuFrom=e},expression:"dateMenuFrom"}},[a("v-date-picker",{attrs:{max:t.endDate},on:{input:function(e){t.dateMenuFrom=!1}},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}})],1)],1),a("div",{staticClass:"col-md-3"},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-text-field",t._g({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"Date Until",label:"Until","prepend-icon":"event",readonly:"","error-messages":t.errors.first("Date Until")},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}},n))]}}],null,!1,4055421905),model:{value:t.dateMenuTo,callback:function(e){t.dateMenuTo=e},expression:"dateMenuTo"}},[a("v-date-picker",{attrs:{min:t.startDate},on:{input:function(e){t.dateMenuTo=!1}},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1)],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-1"}),a("div",{staticClass:"col-md-3"},[a("v-text-field",{attrs:{name:"ParentMsisdn",label:"Parent Msisdn"},model:{value:t.parentMsisdn,callback:function(e){t.parentMsisdn=e},expression:"parentMsisdn"}})],1),a("div",{staticClass:"col-md-3"},[a("v-text-field",{attrs:{name:"ChildMsisdn",label:"Child Msisdn"},model:{value:t.childMsisdn,callback:function(e){t.childMsisdn=e},expression:"childMsisdn"}})],1),a("div",{staticClass:"col-md-3"},[a("v-select",{attrs:{clearable:!0,multiple:!0,items:t.OpcodeList,"item-text":"description","item-value":"opcode",label:" Activity Type"},model:{value:t.SelectedOpcode,callback:function(e){t.SelectedOpcode=e},expression:"SelectedOpcode"}})],1),a("div",{staticClass:"col-md-2"},[a("v-btn",{attrs:{round:"",color:"#3498db",dark:""},on:{click:t.navigateToSearch}},[t._v("Search")])],1)]),a("div",{staticClass:"row pb-2"},[a("div",{staticClass:"col-md-2"},[a("v-btn",{attrs:{round:"",color:"#3498db",dark:""}},[a("download-excel",{attrs:{fetch:t.fetchData,fields:t.json_fields,type:"csv",name:"Transaction.xls"}},[t._v("Download Excel")])],1)],1)]),a("div",{staticClass:"rs-table"},[a("v-data-table",{attrs:{headers:t.headers,items:t.tableData,pagination:t.pagination,"total-items":t.pagination.totalItems,"rows-per-page-items":[10]},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.transactionDetails&&e.item.transactionDetails.parentDetails?e.item.transactionDetails.parentDetails.msisdn:"-"))]),a("td",[t._v(t._s(e.item.transactionDetails&&e.item.transactionDetails.childDetails?e.item.transactionDetails.childDetails.msisdn:"-"))]),a("td",[t._v(t._s(t.IsParentOpCode(e.item.transactionDetails&&e.item.transactionDetails.opcodeDetails?e.item.transactionDetails.opcodeDetails.opcode:"")?"PARENT":"CHILD"))]),a("td",[t._v(t._s(e.item.transactionDetails&&e.item.transactionDetails.opcodeDetails?e.item.transactionDetails.opcodeDetails.description:"-"))]),a("td",[t._v(t._s(e.item.eventDetails?e.item.eventDetails.eventDescription:"-"))]),a("td",[t._v(t._s(e.item.created?e.item.created:"-"))]),a("td",[t._v(t._s(e.item.transactionDetails?e.item.transactionDetails.channel:"-"))]),a("td",[t._v(t._s(e.item.transactionDetails&&e.item.transactionDetails.productDetails?e.item.transactionDetails.productDetails.productName:"-"))]),a("td",[t._v(t._s(e.item.convertedAllocationAmount?e.item.convertedAllocationAmount:"-"))]),a("td",[t._v(t._s(e.item.oldPricePlan?e.item.oldPricePlan:"-"))]),a("td",[t._v(t._s(e.item.newPricePlan?e.item.newPricePlan:"-"))]),a("td",[t._v(t._s(e.item.eventStatus?e.item.eventStatus:"-"))]),a("td",[t._v(t._s(e.item.convertedNewChildBalance?e.item.convertedNewChildBalance:"-"))]),a("td",[t._v(t._s(e.item.convertedNewParentBalance?e.item.convertedNewParentBalance:"-"))]),a("td",[t._v(t._s(e.item.transactionDetails?e.item.transactionDetails.systemTransactionId:"-"))])]}},{key:"no-results",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[t._v('Your search for "'+t._s(t.search)+'" found no results.')])]},proxy:!0}],null,!1,1159893508)})],1)]),t.errorMsg?a("div",[a("div",{staticClass:"card",staticStyle:{width:"100%",height:"100%"}},[a("div",{staticClass:"card-block p-5"},[a("h3",[t._v(t._s(t.errorMsg))])])])]):t._e()])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("a",{staticClass:"animation",attrs:{href:"",title:"Home"}},[t._v("Home")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"activePage"},[a("p",{staticClass:"animation",attrs:{href:"",title:"Transaction"}},[t._v("Transaction")])])}],s=(a("8e6e"),a("ac6a"),a("456d"),a("28a5"),a("bd86")),i=(a("6b54"),a("6762"),a("2fdb"),a("96cf"),a("3b8d")),o=a("c1df"),c=a.n(o),l=a("2b0e"),d=a("025e");function u(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function p(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?u(Object(a),!0).forEach((function(e){Object(s["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var m={data:function(){var t=this;return{OpcodeList:[],SelectedOpcode:[],search:"",json_fields:{"Parent Number":{field:"transactionDetails",callback:function(t){return t&&t.parentDetails?t.parentDetails.msisdn:"-"}},"Child Number":{field:"transactionDetails",callback:function(t){return t&&t.childDetails?t.childDetails.msisdn:"-"}},"Subscriber Type":{field:"transactionDetails",callback:function(e){return e&&e.opcodeDetails?t.IsParentOpCode(e.opcodeDetails.opcode)?"PARENT":"CHILD":"-"}},"Activity Type":{field:"transactionDetails",callback:function(t){return t&&t.opcodeDetails?t.opcodeDetails.description:"-"}},"Event Type":{field:"eventDetails",callback:function(t){return t?t.eventDescription:"-"}},"Date & Time":"created","Request Channel":{field:"transactionDetails",callback:function(t){return t?t.channel:"-"}},"Resources Type":{field:"productDetails",callback:function(t){return t?t.productName:"-"}},"Quota Allocated":{field:"convertedAllocationAmount",callback:function(t){return t||"-"}},"Old Price Plan":{field:"oldPricePlan",callback:function(t){return t||"-"}},"New Price Plan":{field:"newPricePlan",callback:function(t){return t||"-"}},"Event Status":{field:"eventStatus",callback:function(t){return t||"-"}},"Updated Child Resources":{field:"convertedNewChildBalance",callback:function(t){return t||"-"}},"Updated Parents Resources":{field:"convertedNewParentBalance",callback:function(t){return t||"-"}},TransactionId:{field:"transactionDetails",callback:function(t){return t?t.systemTransactionId:"-"}}},items:[],pagination:{page:1,rowsPerPage:10,totalPages:void 0,totalItems:void 0},errorMsg:"",headers:[{text:"Parent Number",value:"ParentNumber",sortable:!1},{text:"Child Number",value:"ChildNumber",sortable:!1},{text:"Subscriber Type",value:"SubscriberType",sortable:!1},{text:"Activity Type",value:"ActivityType",sortable:!1},{text:"Event Type",value:"EventType",sortable:!1},{text:"Date & Time",value:"DateAndTime",sortable:!1},{text:"Request Channel",value:"RequestChannel",sortable:!1},{text:"Resources Type",value:"ResourcesType",sortable:!1},{text:"Quota Allocated",value:"QuotaAllocated",sortable:!1},{text:"Old Price Plan",value:"OldPricePlan",sortable:!1},{text:"New Price Plan",value:"NewPricePlan",sortable:!1},{text:"Event Status",value:"EventStatus",sortable:!1},{text:"Updated Child Resources",value:"UpdatedChildResources",sortable:!1},{text:" Updated Parents Resources",value:" UpdatedParentsResources",sortable:!1},{text:"Transaction Id",value:"TransactionID",sortable:!1}],consentReport:[],exportData:[],dateMenuFrom:!1,dateMenuTo:!1,parentMsisdn:"",childMsisdn:"",Opcodes:"",startDate:c()().format("YYYY-MM-DD"),endDate:c()().format("YYYY-MM-DD")}},watch:{pagination:function(t,e){this.navigateToSearch()},"$route.query":function(){this.getReport()}},methods:{fetchData:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getReport(!0);case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),IsParentOpCode:function(t){return!!["ADD_PARENT","REMOVE_PARENT","CHANGE_PRICE_PLAN"].includes(t)},navigateToSearch:function(){var t=this;this.SelectedOpcode&&(this.Opcodes=this.SelectedOpcode.toString()),this.$router.push({name:"report.transaction",query:p(p(p({page:this.pagination.page,rowsPerPage:this.pagination.rowsPerPage,startDate:this.startDate,endDate:this.endDate},this.parentMsisdn&&{parentMsisdn:this.parentMsisdn}),this.childMsisdn&&{childMsisdn:this.childMsisdn}),this.Opcodes&&{Opcodes:this.Opcodes})}).catch((function(e){t.$router.push("/"),t.$router.push({name:"report.transaction",query:p(p(p({page:t.pagination.page,rowsPerPage:t.pagination.rowsPerPage,startDate:t.startDate,endDate:t.endDate},t.parentMsisdn&&{parentMsisdn:t.parentMsisdn}),t.childMsisdn&&{childMsisdn:t.childMsisdn}),t.Opcodes&&{Opcodes:t.Opcodes})})}))},getReport:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a,n,r=this,s=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=s.length>0&&void 0!==s[0]&&s[0],this.setModelFromQueryParams(),!(this.pagination.page&&this.pagination.rowsPerPage&&this.startDate&&this.endDate)){t.next=8;break}return a={startDate:this.startDate,endDate:this.endDate,parentMsisdn:this.parentMsisdn,childMsisdn:this.childMsisdn,opcode:this.Opcodes,pageNumber:this.pagination.page,pageSize:e?999999:this.pagination.rowsPerPage},n=d["a"].getQueryString(a),t.next=7,this.$http.get(window.ReportBaseURL+"/reportdaily/transactionEventReportDaily"+n).then((function(t){"00"==t.errorCode?e?r.exportData=t.data.content:(r.consentReport=t.data.content,r.pagination.totalPages=t.data.totalPages,r.pagination.totalItems=t.data.totalElements):"53"==t.errorCode&&(r.errorMsg=t.errorMsg)}));case 7:return t.abrupt("return",this.exportData);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),setModelFromQueryParams:function(){var t=this.$route.query;t&&(this.pagination.page=t.page?t.page:this.pagination.page,this.pagination.rowsPerPage=t.rowsPerPage?t.rowsPerPage:this.pagination.rowsPerPage,this.startDate=t.startDate?t.startDate:c()().subtract(1,"months").format("YYYY-MM-DD"),this.endDate=t.endDate?t.endDate:c()().format("YYYY-MM-DD"),this.parentMsisdn=t.parentMsisdn,this.childMsisdn=t.childMsisdn,this.Opcodes=t.Opcodes,t.Opcodes&&(this.SelectedOpcode=t.Opcodes.split(",")))},getOpcode:function(){var t=this;l["default"].$http.post(window.ReportBaseURL+"/general/getReportOpcode",{}).then((function(e){"00"==e.errorCode&&(t.OpcodeList=e.data)}))}},computed:{tableData:function(){return this.consentReport.map((function(t){return t.consentSentTime=c()(t.consentSentTime,"YYYY-MM-DD HH:mm:ss").format("DD/MM/YYYY HH:mm:ss"),t.consentExpiryTime=c()(t.consentExpiryTime,"YYYY-MM-DD HH:mm:ss").format("DD/MM/YYYY HH:mm:ss"),t}))}},mounted:function(){this.getOpcode()},beforeDestroy:function(){}},v=m,h=(a("1a3b"),a("2877")),f=a("6544"),D=a.n(f),g=a("0798"),b=a("8336"),P=a("8fea"),w=a("2e4b"),M=a("e449"),_=a("b56d"),y=a("2677"),C=Object(h["a"])(v,n,r,!1,null,null,null);e["default"]=C.exports;D()(C,{VAlert:g["a"],VBtn:b["a"],VDataTable:P["a"],VDatePicker:w["a"],VMenu:M["a"],VSelect:_["a"],VTextField:y["a"]})},bbc7:function(t,e,a){},c667:function(t,e,a){},d09c:function(t,e,a){"use strict";a("d82b")},d82b:function(t,e,a){},f9b3:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pl-5 pr-5 pt-2"},[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-md-12"},[a("ul",{staticClass:"breadCrumbs"},[t._m(0),a("li",[a("router-link",{attrs:{to:"/report/list"}},[t._v("Reports")])],1),t._m(1),a("div",{staticClass:"clear"})])])]),t.errorMsg?t._e():a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-1"}),a("div",{staticClass:"col-md-3"},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-text-field",t._g({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"Date From",label:"From","prepend-icon":"event",readonly:"","error-messages":t.errors.first("Date From")},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}},n))]}}],null,!1,2893869314),model:{value:t.dateMenuFrom,callback:function(e){t.dateMenuFrom=e},expression:"dateMenuFrom"}},[a("v-date-picker",{attrs:{max:t.endDate},on:{input:function(e){t.dateMenuFrom=!1}},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}})],1)],1),a("div",{staticClass:"col-md-3"},[a("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,lazy:"",transition:"scale-transition","offset-y":"","full-width":"","min-width":"290px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-text-field",t._g({directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{name:"Date Until",label:"Until","prepend-icon":"event",readonly:"","error-messages":t.errors.first("Date Until")},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}},n))]}}],null,!1,4055421905),model:{value:t.dateMenuTo,callback:function(e){t.dateMenuTo=e},expression:"dateMenuTo"}},[a("v-date-picker",{attrs:{min:t.startDate},on:{input:function(e){t.dateMenuTo=!1}},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}})],1)],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-1"}),a("div",{staticClass:"col-md-3"},[a("v-text-field",{attrs:{name:"ParentMsisdn",label:"Parent Msisdn"},model:{value:t.parentMsisdn,callback:function(e){t.parentMsisdn=e},expression:"parentMsisdn"}})],1),a("div",{staticClass:"col-md-3"},[a("v-text-field",{attrs:{name:"ChildMsisdn",label:"Child Msisdn"},model:{value:t.childMsisdn,callback:function(e){t.childMsisdn=e},expression:"childMsisdn"}})],1),a("div",{staticClass:"col-md-2"},[a("v-btn",{attrs:{round:"",color:"#3498db",dark:""},on:{click:t.navigateToSearch}},[t._v("Search")])],1)]),a("div",{staticClass:"row pb-2"},[a("div",{staticClass:"col-md-2"},[a("v-btn",{attrs:{round:"",color:"#3498db",dark:""}},[a("download-excel",{attrs:{fetch:t.fetchData,fields:t.json_fields,type:"csv",name:"Renewal.xls"}},[t._v("Download Excel")])],1)],1)]),a("div",{staticClass:"rs-table"},[a("v-data-table",{attrs:{headers:t.headers,items:t.tableData,pagination:t.pagination,"total-items":t.pagination.totalItems,"rows-per-page-items":[10]},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.transactionDetails?e.item.transactionDetails.systemTransactionId:"-"))]),a("td",[t._v(t._s(e.item.transactionDetails.parentDetails?e.item.transactionDetails.parentDetails.msisdn:"-"))]),a("td",[t._v(t._s(e.item.transactionDetails.childDetails?e.item.transactionDetails.childDetails.msisdn:"-"))]),a("td",[t._v(t._s(e.item.eventDetails?e.item.eventDetails.eventDescription:"-"))]),a("td",[t._v(t._s(e.item.productDetails?e.item.productDetails.productName:"-"))]),a("td",[t._v(t._s(e.item.convertedAllocationAmount?e.item.convertedAllocationAmount:"-"))]),a("td",[t._v(t._s(e.item.convertedNewChildBalance?e.item.convertedNewChildBalance:"-"))]),a("td",[t._v(t._s(e.item.convertedNewParentBalance?e.item.convertedNewParentBalance:"-"))]),a("td",[t._v(t._s(e.item.eventStatus?e.item.eventStatus:"-"))]),a("td",[t._v(t._s(e.item.transactionDetails?e.item.transactionDetails.channel:"-"))]),a("td",[t._v(t._s(e.item.created?e.item.created:"-"))])]}},{key:"no-results",fn:function(){return[a("v-alert",{attrs:{value:!0,color:"error",icon:"warning"}},[t._v('Your search for "'+t._s(t.search)+'" found no results.')])]},proxy:!0}],null,!1,1473521443)})],1)]),t.errorMsg?a("div",[a("div",{staticClass:"card",staticStyle:{width:"100%",height:"100%"}},[a("div",{staticClass:"card-block p-5"},[a("h3",[t._v(t._s(t.errorMsg))])])])]):t._e()])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("a",{staticClass:"animation",attrs:{href:"",title:"Home"}},[t._v("Home")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"activePage"},[a("p",{staticClass:"animation",attrs:{href:"",title:"Renewal"}},[t._v("Renewal")])])}],s=(a("8e6e"),a("ac6a"),a("456d"),a("bd86")),i=(a("96cf"),a("3b8d")),o=a("c1df"),c=a.n(o),l=a("025e");function d(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?d(Object(a),!0).forEach((function(e){Object(s["a"])(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):d(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var p={data:function(){return{search:"",json_fields:{TransactionId:{field:"transactionDetails",callback:function(t){return t?t.systemTransactionId:"-"}},"Parent Number":{field:"transactionDetails",callback:function(t){return t&&t.parentDetails?t.parentDetails.msisdn:"-"}},"Child Number":{field:"transactionDetails",callback:function(t){return t&&t.childDetails?t.childDetails.msisdn:"-"}},"Type of Event":{field:"eventDetails",callback:function(t){return t?t.eventDescription:"-"}},"Resources Type":{field:"productDetails",callback:function(t){return t?t.productName:"-"}},"Quota Allocated":{field:"convertedAllocationAmount",callback:function(t){return t||"-"}},"Updated Child Resources":{field:"convertedNewChildBalance",callback:function(t){return t||"-"}},"Updated Parents Resources":{field:"convertedNewParentBalance",callback:function(t){return t||"-"}},Status:{field:"eventStatus",callback:function(t){return t||"-"}},Channel:{field:"transactionDetails",callback:function(t){return t?t.channel:"-"}},"Date & Time":"created"},items:[],pagination:{page:1,rowsPerPage:10,totalPages:void 0,totalItems:void 0},errorMsg:"",headers:[{text:"Transaction Id",value:"TransactionID",sortable:!1},{text:"Parent Number",value:"ParentNumber",sortable:!1},{text:"Child Number",value:"ChildNumber",sortable:!1},{text:"Type of Event",value:"TypeofEvent",sortable:!1},{text:"Resource Type",value:"ResourceType",sortable:!1},{text:"Quota Allocated",value:"QuotaAllocated",sortable:!1},{text:"Updated Child Resources",value:"UpdatedChildResources",sortable:!1},{text:"Updated Parent Resources",value:"UpdatedParentResources",sortable:!1},{text:"Status",value:"Status",sortable:!1},{text:"Channel",value:"Channel",sortable:!1},{text:"Date & Time",value:"DateAndTime",sortable:!1}],consentReport:[],exportData:[],dateMenuFrom:!1,dateMenuTo:!1,parentMsisdn:"",childMsisdn:"",startDate:c()().format("YYYY-MM-DD"),endDate:c()().format("YYYY-MM-DD")}},watch:{pagination:function(t,e){this.navigateToSearch()},"$route.query":function(){this.getReport()}},methods:{fetchData:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getReport(!0);case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),navigateToSearch:function(){var t=this;this.$router.push({name:"report.renewal",query:u(u({page:this.pagination.page,rowsPerPage:this.pagination.rowsPerPage,startDate:this.startDate,endDate:this.endDate},this.parentMsisdn&&{parentMsisdn:this.parentMsisdn}),this.childMsisdn&&{childMsisdn:this.childMsisdn})}).catch((function(e){t.$router.push("/"),t.$router.push({name:"report.renewal",query:u(u({page:t.pagination.page,rowsPerPage:t.pagination.rowsPerPage,startDate:t.startDate,endDate:t.endDate},t.parentMsisdn&&{parentMsisdn:t.parentMsisdn}),t.childMsisdn&&{childMsisdn:t.childMsisdn})})}))},getReport:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){var e,a,n,r=this,s=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=s.length>0&&void 0!==s[0]&&s[0],this.setModelFromQueryParams(),!(this.pagination.page&&this.pagination.rowsPerPage&&this.startDate&&this.endDate)){t.next=8;break}return a={startDate:this.startDate,endDate:this.endDate,parentMsisdn:this.parentMsisdn,childMsisdn:this.childMsisdn,pageNumber:this.pagination.page,pageSize:e?999999:this.pagination.rowsPerPage},n=l["a"].getQueryString(a),t.next=7,this.$http.get(window.ReportBaseURL+"/reportdaily/renewalEventReportDaily"+n).then((function(t){"00"==t.errorCode?e?r.exportData=t.data.content:(r.consentReport=t.data.content,r.pagination.totalPages=t.data.totalPages,r.pagination.totalItems=t.data.totalElements):"53"==t.errorCode&&(r.errorMsg=t.errorMsg)}));case 7:return t.abrupt("return",this.exportData);case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),setModelFromQueryParams:function(){var t=this.$route.query;t&&(this.pagination.page=t.page?t.page:this.pagination.page,this.pagination.rowsPerPage=t.rowsPerPage?t.rowsPerPage:this.pagination.rowsPerPage,this.startDate=t.startDate?t.startDate:c()().subtract(1,"months").format("YYYY-MM-DD"),this.endDate=t.endDate?t.endDate:c()().format("YYYY-MM-DD"),this.parentMsisdn=t.parentMsisdn,this.childMsisdn=t.childMsisdn)}},computed:{tableData:function(){return this.consentReport.map((function(t){return t.consentSentTime=c()(t.consentSentTime,"YYYY-MM-DD HH:mm:ss").format("DD/MM/YYYY HH:mm:ss"),t.consentExpiryTime=c()(t.consentExpiryTime,"YYYY-MM-DD HH:mm:ss").format("DD/MM/YYYY HH:mm:ss"),t}))}},mounted:function(){},beforeDestroy:function(){}},m=p,v=(a("189e"),a("2877")),h=a("6544"),f=a.n(h),D=a("0798"),g=a("8336"),b=a("8fea"),P=a("2e4b"),w=a("e449"),M=a("2677"),_=Object(v["a"])(m,n,r,!1,null,null,null);e["default"]=_.exports;f()(_,{VAlert:D["a"],VBtn:g["a"],VDataTable:b["a"],VDatePicker:P["a"],VMenu:w["a"],VTextField:M["a"]})}}]);